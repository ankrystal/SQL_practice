# ë¬¸ì œ 1158. Market Analysis I

Q. Write an SQL query to find for each user, the join date and the number of orders they made as a buyer in 2019. <br>
Return the result table in any order.

ğŸ”‘ ë¬¸ì œ í’€ì´
```mysql
SELECT u.user_id AS buyer_id
     , u.join_date
     , IFNULL(COUNT(o.order_id), 0) AS orders_in_2019
FROM Users u
LEFT JOIN Orders o
ON u.user_id = o.buyer_id AND YEAR(o.order_date) = '2019'
GROUP BY u.user_id
```

ì¶œì²˜: [LeetCode ë¬¸ì œ ë³´ê¸°](https://leetcode.com/problems/market-analysis-i/description/)

#### ğŸ’¡ ONê³¼ WHEREì˜ ì°¨ì´ 
- ì™¸ë¶€ì¡°ì¸ì€ ì—†ëŠ” ê°’ì„ null ê°’ìœ¼ë¡œ ì²˜ë¦¬í•¨. ì¡°ì¸ì„ í•œ í›„ WHERE ì ˆì—ì„œ YEAR(o.order_date) = '2019'ë¥¼ í•˜ë©´ user_id 3,4ëŠ” 2019ë…„ ì£¼ë¬¸ ë‚ ì§œê°€ ì—†ê¸° ë•Œë¬¸ì— ì œì™¸ê°€ ë¨
- í•˜ì§€ë§Œ ON ì ˆì—ì„œ YEAR(o.order_date) = '2019' ì¡°ê±´ì„ ì£¼ë©´, ì—†ëŠ” ê°’ì€ NULL ê°’ìœ¼ë¡œ ê°€ì§€ê³  ì˜¤ê²Œ ë¨. 
- SELECT ì ˆì— IFNULL(COUNT(o.oder_id), 0)ì€ ON ì ˆì—ì„œëŠ” êµ¬ë™í•˜ê³  WHERE ì ˆì—ì„œëŠ” êµ¬ë™í•˜ì§€ ì•ŠìŒ. 

#### ğŸ’¡ SQLë¬¸ ìˆœì„œ
- FROM > ON > JOIN > WHERE > ... 
- ì¦‰, ONê³¼ WHEREì˜ ê²½ìš° JOINì„ í•  ëŒ€ìƒ(ë²”ìœ„)ê°€ ë‹¬ë¼ì§
